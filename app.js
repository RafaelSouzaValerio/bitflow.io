(function(){window.addEventListener("scroll",function(){let e=this.window.scrollY/500,t=4e-4*this.window.scrollY+1,a=.2*this.window.scrollY+1;this.document.querySelector(".shade").style.opacity=e,this.document.querySelector(".bg").style.transform=`scale(${t})`,this.document.querySelector(".text").style.marginTop=a;let r=this.document.querySelector("header"),o=this.document.querySelector("menu");window.scrollY>=r.clientHeight-5*r.clientHeight/100?(o.classList.remove("fadeOutUp"),o.classList.add("fadeInDown")):(o.classList.remove("fadeInDown"),o.classList.add("fadeOutUp"),closeMenu())})}).call(this);const graphOptions={orientation:"vertical-reverse",mode:"compact",responsive:!0},commitWithoutDot={style:{dot:{size:0}}},branchMaster={name:"master",style:{color:"var(--master)",label:{strokeColor:"var(--master)",display:"none"}},commitDefaultOptions:{style:{color:"var(--master)",message:{color:"var(--master)"},dot:{color:"var(--master)"}}}},branchStaging={name:"staging",style:{color:"var(--staging)",label:{strokeColor:"var(--staging)",display:"none"}},commitDefaultOptions:{style:{color:"var(--staging)",message:{color:"var(--staging)"},dot:{color:"var(--staging)"}}}},branchFeat={name:"feat",style:{color:"var(--feat)",label:{strokeColor:"var(--feat)",display:"none"}},commitDefaultOptions:{style:{color:"var(--feat)",message:{color:"var(--feat)"},dot:{color:"var(--feat)"}}}},branchFix={name:"fix",style:{color:"var(--fix)",label:{strokeColor:"var(--fix)",display:"none"}},commitDefaultOptions:{style:{color:"var(--fix)",message:{color:"var(--fix)"},dot:{color:"var(--fix)"}}}},branchRef={name:"ref",style:{color:"var(--ref)",label:{strokeColor:"var(--ref)",display:"none"}},commitDefaultOptions:{style:{color:"var(--ref)",message:{color:"var(--ref)"},dot:{color:"var(--ref)"}}}},branchRelease={name:"release",style:{color:"var(--release)",label:{strokeColor:"var(--release)",display:"none"}},commitDefaultOptions:{style:{color:"var(--release)",message:{color:"var(--release)"},dot:{color:"var(--release)"}}}},branchReleaseFix={name:"release/fix",style:{color:"var(--release-fix)",label:{strokeColor:"var(--release-fix)",display:"none"}},commitDefaultOptions:{style:{color:"var(--release-fix)",message:{color:"var(--release-fix)"},dot:{color:"var(--release-fix)"}}}},branchConf={name:"conf",style:{color:"var(--conf)",label:{strokeColor:"var(--conf)",display:"none"}},commitDefaultOptions:{style:{color:"var(--conf)",message:{color:"var(--conf)"},dot:{color:"var(--conf)"}}}};function closeMenu(){let e=document.getElementById("mobile-toggle");e&&(e.checked=!1)}window.onload=function(){let e=window.matchMedia("(max-width: 700px)");graphOptions.responsive=e.matches,drawGraphFeat(),drawGraphFix(),drawGraphRelease(),drawGraphReleaseFix(),drawGraphConf()};const pdfOptions={margin:[0,0,0,0],html2canvas:{scale:2,dpi:75},jsPDF:{orientation:"portrait",unit:"px",hotfixes:["px_scaling"]}};async function generateHtmlFile(){let e=document.getElementById("download-pdf");if(!e||!e.href.includes("#"))return;let t=document.documentElement,a=document.body,r=Math.max(a.scrollWidth,a.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth);pdfOptions.jsPDF.format=[r,window.innerHeight];let o,l=document.createElement("header"),n=document.querySelector("header").cloneNode(!0),c=n.querySelector(".bg");c&&(c.style.transform="unset");let i=n.querySelector(".shade");i&&(i.style.opacity="0"),l.appendChild(n),await html3pdf().set(pdfOptions).from(l).toPdf().get("pdf").then(async e=>{e&&(o=await fetch(e.output("bloburl")).then(e=>e.arrayBuffer()))});let s=document.createElement("main");document.querySelectorAll("main section:not(.off):not(.no-print)").forEach(e=>{let t=e.cloneNode(!0);s.appendChild(t)});let m=document.querySelector("main"),h=getComputedStyle(m),d=parseInt(h.paddingTop)+parseInt(h.paddingBottom);h=m.clientHeight-d,pdfOptions.jsPDF.format=[r,h],await html3pdf().set(pdfOptions).from(s).toPdf().get("pdf").then(async t=>{if(t){let a=PDFLib.PDFDocument,r=await fetch(t.output("bloburl")).then(e=>e.arrayBuffer()),l=await a.load(o),n=await a.load(r),c=await a.create();(await c.copyPages(l,l.getPageIndices())).forEach(e=>c.addPage(e));(await c.copyPages(n,n.getPageIndices())).forEach(e=>c.addPage(e));let i=await c.save();if(i){let s=new Blob([i]),m=window.URL.createObjectURL(s);e.href=m,e.download="bit-flow.pdf",downloadHtml()}}})}async function downloadHtml(){let e=document.getElementById("download-pdf");if(!e)return;let t=document.getElementById("load-pdf");t&&t.classList.remove("off"),await generateHtmlFile(),e.href.includes("#")||e.click(),t&&t.classList.add("off")}async function drawGraphFeat(){let e=document.getElementById("graph-feat"),t=GitgraphJS.createGitgraph(e,graphOptions).branch(branchMaster);t.commit();let a=t.branch(branchFeat);a.commit();let r=t.branch(branchStaging);r.merge(a),a.commit(),r.merge(a);t.branch(branchRelease).merge(a),t.commit(commitWithoutDot),t.commit()}async function drawGraphFix(){let e=document.getElementById("graph-fix"),t=GitgraphJS.createGitgraph(e,graphOptions),a=t.branch(branchMaster);a.commit();let r=a.branch(branchFix);r.commit();let o=t.branch(branchStaging);o.merge(r),r.commit(),o.merge(r);a.branch(branchRelease).merge(r),a.commit(commitWithoutDot),a.commit()}async function drawGraphRef(){let e=document.getElementById("graph-ref"),t=GitgraphJS.createGitgraph(e,graphOptions),a=t.branch(branchMaster);a.commit();let r=a.branch(branchRef);r.commit();let o=t.branch(branchStaging);o.merge(r),r.commit(),o.merge(r);a.branch(branchRelease).merge(r),a.commit(commitWithoutDot),a.commit()}async function drawGraphRelease(){let e=document.getElementById("graph-release"),t=GitgraphJS.createGitgraph(e,graphOptions),a=t.branch(branchMaster);a.commit();let r=a.branch(branchFeat);r.commit();let o=a.branch(branchFix);o.commit(commitWithoutDot),o.commit(),branchFeat.name="feat-2";let l=t.branch(branchFeat);l.commit(commitWithoutDot),l.commit(),branchFeat.name="feat";let n=a.branch(branchRelease);n.merge(o),n.merge(l),n.merge(r);t.branch(branchStaging).merge(n),a.merge(n)}async function drawGraphReleaseFix(){let e=document.getElementById("graph-release-fix"),t=GitgraphJS.createGitgraph(e,graphOptions).branch(branchRelease);t.commit();let a=t.branch(branchReleaseFix);a.commit(),t.merge(a)}async function drawGraphConf(){let e=document.getElementById("graph-conf"),t=GitgraphJS.createGitgraph(e,graphOptions).branch(branchFeat);t.commit();let a=t.branch(branchStaging);a.commit(commitWithoutDot);let r=t.branch(branchConf);r.commit(),a.merge(r)}function openModalImg(e){let t=document.getElementById("modalImg");if(!t)return;let a=t.querySelector(".modal-content");t.style.display="flex",a.src=e.src,a.alt=e.alt,t.onclick||(t.onclick=closeModalImg)}function closeModalImg(){let e=document.getElementById("modalImg");e&&(e.style.display="none")}